<section class="main-content timeline">
  <nav class="tabs">
    <a href="" ng-click="showme=true" class="button-timeline" ng-init="showme=true">Timeline</a>
    <a href="" ng-click="showme=false" class="button-map" >Map View</a>
  </nav>
  <section class="tlv" ng-show="showme">
    <h3>{{main.title}}</h3>
    <ul class="origin-section">
      <li class="city-desc">
        <span class="start-end">{{main.origin}}</span>
        <span class="city-date">Departs {{main.origin_date | date}}</span>
        <span class="city-date">at {{main.origin_time}}</span>
      </li>
    </ul>
    <ul class="city-section">
      <li class="city-desc" ng-repeat="city in cities">
        <span class="city-name">{{city.city_name}}</span>
        <!-- <span class="city-date">Arrives {{city.arrival_date | date}}</span> -->
        <a class="event-card" href="#" ng-repeat="activity in city.activities">
          <span class="event-name">{{activity.title}}</span>
          <span class="event-location">{{activity.location}}</span>
          <span class="event-date">{{activity.date | date}}</span>
        </a>
      </li>
    </ul>
    <ul class="destination-section">
      <li class="city-desc">
        <span class="start-end">{{main.destination}}</span>
        <span class="city-date">Arrives {{main.destination_date}}</span>
      </li>
    </ul>
  </section>
  <section id="map" class="inactive"></section>
  <script>
      function initMap() {
      var map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 41.85, lng: -87.65},
        scrollwheel: false,
        zoom: 7
      });

      var directionsDisplay = new google.maps.DirectionsRenderer({
        map: map
      });

      // Set destination, origin and travel mode.
      var request = {
        destination: "Raleigh, NC",
        origin: "Buffalo, NY",
        travelMode: google.maps.TravelMode.DRIVING,
        waypoints: [
        {
          location:"Richmond, VA",
          stopover:true
        },{
          location:"Washington, DC",
          stopover:true
        }],
    };

  // Pass the directions request to the directions service.
  var directionsService = new google.maps.DirectionsService();
  directionsService.route(request, function(response, status) {
  if (status == google.maps.DirectionsStatus.OK) {
    // Display the route on the map.
    directionsDisplay.setDirections(response);
  }
  });
  }

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC_djHAXJgmjY1balaTg0nzlg5RonxJrJk&callback=initMap" async defer></script>


  </section>
